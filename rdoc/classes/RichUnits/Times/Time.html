<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Module: RichUnits::Times::Time</title>

  
    <link rel="SHORTCUT ICON" href="../../../assets/img/module.png">
  

  <link type="text/css" rel="stylesheet" href="../../../assets/css/rdoc.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="../../../assets/js/github.css" title="GitHub" />

  <script type="text/javascript" charset="utf-8" src="../../../assets/js/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../../assets/js/quicksearch.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../../assets/js/darkfish.js"></script>
  <script type="text/javascript" charset="utf-8" src="../../../assets/js/highlight.js"></script>

  <script type="text/javascript">
    $(document).ready( function() {
      $('#documentation pre').wrapInner('<code></code>');
      hljs.tabReplace = '    ';
      hljs.initHighlightingOnLoad('ruby');

	    hookSourceViews();
	    hookDebuggingToggle();
	    hookQuickSearch();
	    highlightLocationTarget();

	    $('ul.link-list a').bind( "click", highlightClickTarget );
    });
  </script>
</head>
<body class="module">
<div id="main">

  <div class="head">
    <h1>
      
        <img src="../../../assets/img/module.png" align="absmiddle">&nbsp;
      
      <a href="../../../index.html">RichUnits</a>&nbsp;
      <a href="/">RichUnits::Times::Time</a>
    </h1>
  </div>

  <div id="metadata">
    <div id="project-metadata">

      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li class="file"><a href="../../../files/lib/richunits/times_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/richunits/times.rb">lib/richunits/times.rb</a></li>
          
          </ul>
        </div>
      </div>

      <!-- What about Git info, or Hg info? This seems almost silly, albeit kind of cool. -->
      <!-- TODO: generalize this for all SCMs -->

      
    </div>

    <div id="class-metadata">

      <!-- Parent Class -->
      

      <!-- Namespace Contents -->
      

      <!-- Method Quickref -->
      
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li class="method"><a href="#M000006">#ago</a></li>
          
          <li class="method"><a href="#M000084">#at_beginning_of_day</a></li>
          
          <li class="method"><a href="#M000087">#at_beginning_of_month</a></li>
          
          <li class="method"><a href="#M000071">#at_beginning_of_week</a></li>
          
          <li class="method"><a href="#M000089">#at_beginning_of_year</a></li>
          
          <li class="method"><a href="#M000083">#at_midnight</a></li>
          
          <li class="method"><a href="#M000080">#beginning_of_day</a></li>
          
          <li class="method"><a href="#M000086">#beginning_of_month</a></li>
          
          <li class="method"><a href="#M000069">#beginning_of_week</a></li>
          
          <li class="method"><a href="#M000088">#beginning_of_year</a></li>
          
          <li class="method"><a href="#M000003">#change</a></li>
          
          <li class="method"><a href="#M000031">#days_ago</a></li>
          
          <li class="method"><a href="#M000042">#days_hence</a></li>
          
          <li class="method"><a href="#M000052">#days_since</a></li>
          
          <li class="method"><a href="#M000017">#dst_adjustment</a></li>
          
          <li class="method"><a href="#M000094">#end_of_day</a></li>
          
          <li class="method"><a href="#M000016">#from_now</a></li>
          
          <li class="method"><a href="#M000011">#hence</a></li>
          
          <li class="method"><a href="#M000030">#hours_ago</a></li>
          
          <li class="method"><a href="#M000040">#hours_hence</a></li>
          
          <li class="method"><a href="#M000013">#in</a></li>
          
          <li class="method"><a href="#M000096">#in_day_range?</a></li>
          
          <li class="method"><a href="#M000063">#last_month</a></li>
          
          <li class="method"><a href="#M000056">#last_year</a></li>
          
          <li class="method"><a href="#M000081">#midnight</a></li>
          
          <li class="method"><a href="#M000029">#minutes_ago</a></li>
          
          <li class="method"><a href="#M000039">#minutes_hence</a></li>
          
          <li class="method"><a href="#M000051">#minutes_since</a></li>
          
          <li class="method"><a href="#M000070">#monday</a></li>
          
          <li class="method"><a href="#M000035">#months_ago</a></li>
          
          <li class="method"><a href="#M000044">#months_hence</a></li>
          
          <li class="method"><a href="#M000054">#months_since</a></li>
          
          <li class="method"><a href="#M000064">#next_month</a></li>
          
          <li class="method"><a href="#M000072">#next_week</a></li>
          
          <li class="method"><a href="#M000062">#next_year</a></li>
          
          <li class="method"><a href="#M000023">#seconds_since_midnight</a></li>
          
          <li class="method"><a href="#M000000">#set</a></li>
          
          <li class="method"><a href="#M000048">#since</a></li>
          
          <li class="method"><a href="#M000014">#since</a></li>
          
          <li class="method"><a href="#M000085">#start_of_day</a></li>
          
          <li class="method"><a href="#M000092">#start_of_day</a></li>
          
          <li class="method"><a href="#M000095">#to_end_of_day</a></li>
          
          <li class="method"><a href="#M000093">#to_start_of_day</a></li>
          
          <li class="method"><a href="#M000091">#tomorrow</a></li>
          
          <li class="method"><a href="#M000034">#weeks_ago</a></li>
          
          <li class="method"><a href="#M000043">#weeks_hence</a></li>
          
          <li class="method"><a href="#M000053">#weeks_since</a></li>
          
          <li class="method"><a href="#M000038">#years_ago</a></li>
          
          <li class="method"><a href="#M000047">#years_hence</a></li>
          
          <li class="method"><a href="#M000055">#years_since</a></li>
          
          <li class="method"><a href="#M000090">#yesterday</a></li>
          
        </ul>
      </div>
      

      <!-- Included Modules -->
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../../files/COPYING.html">COPYING</a></li>
        
          <li class="file"><a href="../../../files/README.html">README</a></li>
        
          <li class="file"><a href="../../../files/CHANGES.html">CHANGES</a></li>
        
          <li class="file"><a href="../../../files/TODO.html">TODO</a></li>
        
          <li class="file"><a href="../../../files/RELEASE.html">RELEASE</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="../../../assets/img/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <!-- classpage.html : classes -->
        <ul class="link-list">
        
          <li class="module"><a href="../../../classes/RichUnits.html">RichUnits</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Bytes.html">RichUnits::Bytes</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Bytes/Numeric.html">RichUnits::Bytes::Numeric</a></li>
        
          <li class="class"><a href="../../../classes/RichUnits/Duration.html">RichUnits::Duration</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Duration/Numeric.html">RichUnits::Duration::Numeric</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Duration/Time.html">RichUnits::Duration::Time</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Multiplers.html">RichUnits::Multiplers</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Multiplers/Numeric.html">RichUnits::Multiplers::Numeric</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Times.html">RichUnits::Times</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Times/Numeric.html">RichUnits::Times::Numeric</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Times/Time.html">RichUnits::Times::Time</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Times/TimeClass.html">RichUnits::Times::TimeClass</a></li>
        
          <li class="class"><a href="../../../classes/RichUnits/Weekdays.html">RichUnits::Weekdays</a></li>
        
          <li class="module"><a href="../../../classes/RichUnits/Weekdays/Numeric.html">RichUnits::Weekdays::Numeric</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>
    </div>

    <div id="validator-badges">
      
      <div style="float: right; margin-right: 5px;">
        <a href="http://validator.w3.org/check/referer"><img src="../../../assets/img/check.png" alt="[Validate]" height="16" width="16" />
      </div>
      Generated with <a href="http://github.com/proutils/webri">WebRI Redfish</a> 1.0.0
      <br/><br/>
    </div>
  </div>

  <div id="documentation">

    <div id="description">
      

      <h1><a href="Time.html">Time</a> Extensions</h1>

    </div>

    <!-- Constants -->
    

    <!-- Attributes -->
    

    <!-- Methods -->
    
    <div id="public-instance-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="ago-method" class="method-detail ">
        <a name="M000006"></a>

        <div class="method-heading">
        
          <span class="method-name">ago</span><span
            class="method-args">(number, units=:seconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of time-units ago.
</p>
          

          
          <div class="method-source-code"
            id="ago-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 99</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ago</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">units</span>=<span class="ruby-identifier">:seconds</span>)
        <span class="ruby-identifier">time</span> =(
          <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">units</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_sym</span>
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:years</span>
            <span class="ruby-identifier">set</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">year</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">number</span>))
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:months</span>
            <span class="ruby-comment cmt">#years = ((month - number) / 12).to_i</span>
            <span class="ruby-identifier">y</span> = ((<span class="ruby-identifier">month</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">number</span>) <span class="ruby-operator">/</span> <span class="ruby-value">12</span>).<span class="ruby-identifier">to_i</span>
            <span class="ruby-identifier">m</span> = ((<span class="ruby-identifier">month</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">number</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">%</span> <span class="ruby-value">12</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
            <span class="ruby-identifier">set</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">year</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">y</span>), <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">m</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:weeks</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">604800</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:days</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">86400</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:hours</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:minutes</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:seconds</span>, <span class="ruby-keyword kw">nil</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">number</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unrecognized time units -- #{units}&quot;</span>
          <span class="ruby-keyword kw">end</span>
        )
        <span class="ruby-identifier">dst_adjustment</span>(<span class="ruby-identifier">time</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="at-beginning-of-day-method" class="method-detail method-alias">
        <a name="M000084"></a>

        <div class="method-heading">
        
          <span class="method-name">at_beginning_of_day</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000080">beginning_of_day</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="at-beginning-of-month-method" class="method-detail method-alias">
        <a name="M000087"></a>

        <div class="method-heading">
        
          <span class="method-name">at_beginning_of_month</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000086">beginning_of_month</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="at-beginning-of-week-method" class="method-detail method-alias">
        <a name="M000071"></a>

        <div class="method-heading">
        
          <span class="method-name">at_beginning_of_week</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000069">beginning_of_week</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="at-beginning-of-year-method" class="method-detail method-alias">
        <a name="M000089"></a>

        <div class="method-heading">
        
          <span class="method-name">at_beginning_of_year</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000088">beginning_of_year</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="at-midnight-method" class="method-detail method-alias">
        <a name="M000083"></a>

        <div class="method-heading">
        
          <span class="method-name">at_midnight</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000080">beginning_of_day</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="beginning-of-day-method" class="method-detail ">
        <a name="M000080"></a>

        <div class="method-heading">
        
          <span class="method-name">beginning_of_day</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the start of the
day (0:00)
</p>
          

          
          <div class="method-source-code"
            id="beginning-of-day-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 362</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_day</span>
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">seconds_since_midnight</span>
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000081">midnight</a>, <a href="Time.html#M000083">at_midnight</a>, <a href="Time.html#M000084">at_beginning_of_day</a>, <a href="Time.html#M000085">start_of_day</a>
        </div>
        
      </div>

    
      <div id="beginning-of-month-method" class="method-detail ">
        <a name="M000086"></a>

        <div class="method-heading">
        
          <span class="method-name">beginning_of_month</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the start of the
month (1st of the month, 0:00)
</p>
          

          
          <div class="method-source-code"
            id="beginning-of-month-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 372</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_month</span>
        <span class="ruby-comment cmt">#self - ((self.mday-1).days + self.seconds_since_midnight)</span>
        <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000087">at_beginning_of_month</a>
        </div>
        
      </div>

    
      <div id="beginning-of-week-method" class="method-detail ">
        <a name="M000069"></a>

        <div class="method-heading">
        
          <span class="method-name">beginning_of_week</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the
&#8220;start&#8221; of this week (Monday, 0:00)
</p>
          

          
          <div class="method-source-code"
            id="beginning-of-week-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 341</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_week</span>
        (<span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">wday</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">midnight</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000070">monday</a>, <a href="Time.html#M000071">at_beginning_of_week</a>
        </div>
        
      </div>

    
      <div id="beginning-of-year-method" class="method-detail ">
        <a name="M000088"></a>

        <div class="method-heading">
        
          <span class="method-name">beginning_of_year</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the start of the
year (1st of january, 0:00)
</p>
          

          
          <div class="method-source-code"
            id="beginning-of-year-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 379</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">beginning_of_year</span>
        <span class="ruby-identifier">change</span>(<span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,<span class="ruby-identifier">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000089">at_beginning_of_year</a>
        </div>
        
      </div>

    
      <div id="change-method" class="method-detail ">
        <a name="M000003"></a>

        <div class="method-heading">
        
          <span class="method-name">change</span><span
            class="method-args">(options)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> where one or more of the
elements have been changed according to the <tt>options</tt> parameter. The
time options (hour, minute, sec, usec) reset cascadingly, so if only the
hour is passed, then minute, sec, and usec is set to 0. If the hour and
minute is passed, then sec and usec is set to 0.
</p>
<pre>
 t = Time.now            #=&gt; Sat Dec 01 14:10:15 -0500 2007
 t.change(:hour =&gt; 11)   #=&gt; Sat Dec 01 11:00:00 -0500 2007
</pre>
          

          
          <div class="method-source-code"
            id="change-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 82</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change</span>(<span class="ruby-identifier">options</span>)
        <span class="ruby-identifier">opts</span>=<span class="ruby-identifier">options</span>; <span class="ruby-comment cmt">#{}; options.each_pair{ |k,v| opts[k] = v.to_i }</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(
          <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc?</span> <span class="ruby-value">? </span><span class="ruby-operator">:</span><span class="ruby-identifier">utc</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:local</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:year</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">year</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:month</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">month</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:day</span>]   <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">day</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:hour</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">hour</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:min</span>]   <span class="ruby-operator">||</span> (<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">min</span>),
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:sec</span>]   <span class="ruby-operator">||</span> ((<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:min</span>]) <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sec</span>),
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:usec</span>]  <span class="ruby-operator">||</span> ((<span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:hour</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:min</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:sec</span>]) <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">usec</span>)
        )
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="days-ago-method" class="method-detail ">
        <a name="M000031"></a>

        <div class="method-heading">
        
          <span class="method-name">days_ago</span><span
            class="method-args">(days)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of days ago.
</p>
          

          
          <div class="method-source-code"
            id="days-ago-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 212</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">days_ago</span>(<span class="ruby-identifier">days</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">days</span> <span class="ruby-operator">*</span> <span class="ruby-value">86400</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="days-hence-method" class="method-detail ">
        <a name="M000042"></a>

        <div class="method-heading">
        
          <span class="method-name">days_hence</span><span
            class="method-args">(days)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of days hence.
</p>
          

          
          <div class="method-source-code"
            id="days-hence-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 271</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">days_hence</span>(<span class="ruby-identifier">days</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">days</span> <span class="ruby-operator">*</span> <span class="ruby-value">86400</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000052">days_since</a>
        </div>
        
      </div>

    
      <div id="days-since-method" class="method-detail method-alias">
        <a name="M000052"></a>

        <div class="method-heading">
        
          <span class="method-name">days_since</span><span
            class="method-args">(days)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000042">days_hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="dst-adjustment-method" class="method-detail ">
        <a name="M000017"></a>

        <div class="method-heading">
        
          <span class="method-name">dst_adjustment</span><span
            class="method-args">(time)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Adjust DST
</p>
<p>
TODO: Can&#8217;t seem to get this to pass ActiveSupport tests.
</p>
<pre>
      Even though it is essentially identical to the
      ActiveSupport code (see Time#since in time/calculations.rb).
      It handels all but 4 tests.
</pre>
          

          
          <div class="method-source-code"
            id="dst-adjustment-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 170</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dst_adjustment</span>(<span class="ruby-identifier">time</span>)
        <span class="ruby-identifier">self_dst</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dst?</span> <span class="ruby-value">? </span><span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
        <span class="ruby-identifier">time_dst</span> = <span class="ruby-identifier">time</span>.<span class="ruby-identifier">dst?</span> <span class="ruby-value">? </span><span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
        <span class="ruby-identifier">seconds</span>  = (<span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">time</span>).<span class="ruby-identifier">abs</span>
        <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">seconds</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">86400</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">self_dst</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">time_dst</span>)
          <span class="ruby-identifier">time</span> <span class="ruby-operator">+</span> ((<span class="ruby-identifier">self_dst</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">time_dst</span>) <span class="ruby-operator">*</span> <span class="ruby-value">60</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span>)
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">time</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="end-of-day-method" class="method-detail ">
        <a name="M000094"></a>

        <div class="method-heading">
        
          <span class="method-name">end_of_day</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new time at end of day
</p>
          

          
          <div class="method-source-code"
            id="end-of-day-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 403</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">end_of_day</span>
        <span class="ruby-constant">Time</span>.<span class="ruby-identifier">mktime</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-value">23</span>, <span class="ruby-value">59</span>, <span class="ruby-value">59</span>, <span class="ruby-value">999</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000095">to_end_of_day</a>
        </div>
        
      </div>

    
      <div id="from-now-method" class="method-detail method-alias">
        <a name="M000016"></a>

        <div class="method-heading">
        
          <span class="method-name">from_now</span><span
            class="method-args">(number, units=:seconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000011">hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="hence-method" class="method-detail ">
        <a name="M000011"></a>

        <div class="method-heading">
        
          <span class="method-name">hence</span><span
            class="method-args">(number, units=:seconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of time-units hence.
</p>
          

          
          <div class="method-source-code"
            id="hence-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 130</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hence</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">units</span>=<span class="ruby-identifier">:seconds</span>)
        <span class="ruby-identifier">time</span> =(
          <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">units</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">to_sym</span>
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:years</span>
            <span class="ruby-identifier">set</span>( <span class="ruby-identifier">:year=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">number</span>) )
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:months</span>
            <span class="ruby-identifier">y</span> = ((<span class="ruby-identifier">month</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">number</span>) <span class="ruby-operator">/</span> <span class="ruby-value">12</span>).<span class="ruby-identifier">to_i</span>
            <span class="ruby-identifier">m</span> = ((<span class="ruby-identifier">month</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">number</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-operator">%</span> <span class="ruby-value">12</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
            <span class="ruby-identifier">set</span>(<span class="ruby-identifier">:year</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">y</span>), <span class="ruby-identifier">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">m</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:weeks</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">604800</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:days</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">86400</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:hours</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:minutes</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">number</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span>)
          <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:seconds</span>
            <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">number</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unrecognized time units -- #{units}&quot;</span>
          <span class="ruby-keyword kw">end</span>
        )
        <span class="ruby-identifier">dst_adjustment</span>(<span class="ruby-identifier">time</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000013">in</a>, <a href="Time.html#M000014">since</a>, <a href="Time.html#M000016">from_now</a>, <a href="Time.html#M000048">since</a>
        </div>
        
      </div>

    
      <div id="hours-ago-method" class="method-detail ">
        <a name="M000030"></a>

        <div class="method-heading">
        
          <span class="method-name">hours_ago</span><span
            class="method-args">(hours)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of hours ago.
</p>
          

          
          <div class="method-source-code"
            id="hours-ago-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 205</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hours_ago</span>(<span class="ruby-identifier">hours</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">hours</span> <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="hours-hence-method" class="method-detail ">
        <a name="M000040"></a>

        <div class="method-heading">
        
          <span class="method-name">hours_hence</span><span
            class="method-args">(hours)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of hours hence.
</p>
          

          
          <div class="method-source-code"
            id="hours-hence-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 264</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hours_hence</span>(<span class="ruby-identifier">hours</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">hours</span> <span class="ruby-operator">*</span> <span class="ruby-value">3600</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="in-method" class="method-detail method-alias">
        <a name="M000013"></a>

        <div class="method-heading">
        
          <span class="method-name">in</span><span
            class="method-args">(number, units=:seconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000011">hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="in-day-range--method" class="method-detail ">
        <a name="M000096"></a>

        <div class="method-heading">
        
          <span class="method-name">in_day_range?</span><span
            class="method-args">(stime=ZERO, etime=NEVER)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns true only if day of time is included in the range (stime..etime).
Only year days are checked.
</p>
          

          
          <div class="method-source-code"
            id="in-day-range--source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 410</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_day_range?</span>(<span class="ruby-identifier">stime</span>=<span class="ruby-constant">ZERO</span>, <span class="ruby-identifier">etime</span>=<span class="ruby-constant">NEVER</span>)
        <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">etime</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">stime</span>)
          <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;invalid end time (#{etime} &lt; #{stime})&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$DEBUG</span>
          <span class="ruby-identifier">etime</span> = <span class="ruby-constant">NEVER</span>
        <span class="ruby-keyword kw">end</span>

        <span class="ruby-identifier">stime</span> = <span class="ruby-identifier">stime</span>.<span class="ruby-identifier">to_start_of_day</span>
        <span class="ruby-identifier">etime</span> = <span class="ruby-identifier">etime</span>.<span class="ruby-identifier">to_end_of_day</span>

        <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">stime</span><span class="ruby-operator">..</span><span class="ruby-identifier">etime</span>).<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">time</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="last-month-method" class="method-detail ">
        <a name="M000063"></a>

        <div class="method-heading">
        
          <span class="method-name">last_month</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Short-hand for <a href="Time.html#M000035">months_ago</a>(1)
</p>
          

          
          <div class="method-source-code"
            id="last-month-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 331</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">last_month</span>
        <span class="ruby-identifier">months_ago</span>(<span class="ruby-value">1</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="last-year-method" class="method-detail ">
        <a name="M000056"></a>

        <div class="method-heading">
        
          <span class="method-name">last_year</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Short-hand for <a href="Time.html#M000038">years_ago</a>(1)
</p>
          

          
          <div class="method-source-code"
            id="last-year-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 321</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">last_year</span>
        <span class="ruby-identifier">years_ago</span>(<span class="ruby-value">1</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="midnight-method" class="method-detail method-alias">
        <a name="M000081"></a>

        <div class="method-heading">
        
          <span class="method-name">midnight</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000080">beginning_of_day</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="minutes-ago-method" class="method-detail ">
        <a name="M000029"></a>

        <div class="method-heading">
        
          <span class="method-name">minutes_ago</span><span
            class="method-args">(minutes)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of minutes ago.
</p>
          

          
          <div class="method-source-code"
            id="minutes-ago-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 198</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">minutes_ago</span>(<span class="ruby-identifier">minutes</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">minutes</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="minutes-hence-method" class="method-detail ">
        <a name="M000039"></a>

        <div class="method-heading">
        
          <span class="method-name">minutes_hence</span><span
            class="method-args">(minutes)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of minutes hence.
</p>
          

          
          <div class="method-source-code"
            id="minutes-hence-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 257</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">minutes_hence</span>(<span class="ruby-identifier">minutes</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">minutes</span> <span class="ruby-operator">*</span> <span class="ruby-value">60</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000051">minutes_since</a>
        </div>
        
      </div>

    
      <div id="minutes-since-method" class="method-detail method-alias">
        <a name="M000051"></a>

        <div class="method-heading">
        
          <span class="method-name">minutes_since</span><span
            class="method-args">(minutes)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000039">minutes_hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="monday-method" class="method-detail method-alias">
        <a name="M000070"></a>

        <div class="method-heading">
        
          <span class="method-name">monday</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000069">beginning_of_week</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="months-ago-method" class="method-detail ">
        <a name="M000035"></a>

        <div class="method-heading">
        
          <span class="method-name">months_ago</span><span
            class="method-args">(months)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of months ago.
</p>
          

          
          <div class="method-source-code"
            id="months-ago-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 226</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">months_ago</span>(<span class="ruby-identifier">months</span>)
        <span class="ruby-identifier">years</span> = (<span class="ruby-identifier">month</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">months</span> <span class="ruby-operator">/</span> <span class="ruby-value">12</span>).<span class="ruby-identifier">to_i</span>
        <span class="ruby-identifier">set</span>(<span class="ruby-identifier">:year=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">year</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">years</span>), <span class="ruby-identifier">:month=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">month</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">months</span>) <span class="ruby-operator">%</span> <span class="ruby-value">12</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="months-hence-method" class="method-detail ">
        <a name="M000044"></a>

        <div class="method-heading">
        
          <span class="method-name">months_hence</span><span
            class="method-args">(months)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of months hence.
</p>
          

          
          <div class="method-source-code"
            id="months-hence-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 285</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">months_hence</span>(<span class="ruby-identifier">months</span>)
        <span class="ruby-identifier">years</span> = (<span class="ruby-identifier">month</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">months</span> <span class="ruby-operator">/</span> <span class="ruby-value">12</span>).<span class="ruby-identifier">to_i</span>
        <span class="ruby-identifier">set</span>(<span class="ruby-identifier">:year=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">years</span>), <span class="ruby-identifier">:month=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">month</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">months</span>) <span class="ruby-operator">%</span> <span class="ruby-value">12</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000054">months_since</a>
        </div>
        
      </div>

    
      <div id="months-since-method" class="method-detail method-alias">
        <a name="M000054"></a>

        <div class="method-heading">
        
          <span class="method-name">months_since</span><span
            class="method-args">(months)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000044">months_hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="next-month-method" class="method-detail ">
        <a name="M000064"></a>

        <div class="method-heading">
        
          <span class="method-name">next_month</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Short-hand for <a href="Time.html#M000054">months_since</a>(1)
</p>
          

          
          <div class="method-source-code"
            id="next-month-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 336</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_month</span>
        <span class="ruby-identifier">months_since</span>(<span class="ruby-value">1</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="next-week-method" class="method-detail ">
        <a name="M000072"></a>

        <div class="method-heading">
        
          <span class="method-name">next_week</span><span
            class="method-args">(day = :monday)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the start of the
given day in next week (default is Monday).
</p>
          

          
          <div class="method-source-code"
            id="next-week-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 349</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_week</span>(<span class="ruby-identifier">day</span> = <span class="ruby-identifier">:monday</span>)
        <span class="ruby-identifier">days_into_week</span> = { <span class="ruby-identifier">:monday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">:tuesday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:wednesday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>,
                           <span class="ruby-identifier">:thursday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">:friday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">:saturday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>,
                           <span class="ruby-identifier">:sunday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">6</span> }
        <span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">week</span>).<span class="ruby-identifier">beginning_of_week</span>.<span class="ruby-identifier">since</span>(<span class="ruby-identifier">days_into_week</span>[<span class="ruby-identifier">day</span>].<span class="ruby-identifier">day</span>).<span class="ruby-identifier">change</span>(<span class="ruby-identifier">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="next-year-method" class="method-detail ">
        <a name="M000062"></a>

        <div class="method-heading">
        
          <span class="method-name">next_year</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Short-hand for <a href="Time.html#M000055">years_since</a>(1)
</p>
          

          
          <div class="method-source-code"
            id="next-year-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 326</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_year</span>
        <span class="ruby-identifier">years_since</span>(<span class="ruby-value">1</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="seconds-since-midnight-method" class="method-detail ">
        <a name="M000023"></a>

        <div class="method-heading">
        
          <span class="method-name">seconds_since_midnight</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Seconds since midnight: Time.now.<a
href="Time.html#M000023">seconds_since_midnight</a>
</p>
          

          
          <div class="method-source-code"
            id="seconds-since-midnight-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 183</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">seconds_since_midnight</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">hour</span>.<span class="ruby-identifier">hours</span> <span class="ruby-operator">+</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">min</span>.<span class="ruby-identifier">minutes</span> <span class="ruby-operator">+</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sec</span> <span class="ruby-operator">+</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">usec</span><span class="ruby-operator">/</span><span class="ruby-value">1.0e+6</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="set-method" class="method-detail ">
        <a name="M000000"></a>

        <div class="method-heading">
        
          <span class="method-name">set</span><span
            class="method-args">(options)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Like change but does not reset earlier times.
</p>
<p>
NOTE: It would be better, probably if this were called
&#8220;change&#8221;.
</p>
<pre>
      and that #change were called &quot;reset&quot;.
</pre>
          

          
          <div class="method-source-code"
            id="set-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 59</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set</span>(<span class="ruby-identifier">options</span>)
        <span class="ruby-identifier">opts</span>={}; <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each_pair</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_i</span> }
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>( <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">utc?</span> <span class="ruby-value">? </span><span class="ruby-operator">:</span><span class="ruby-identifier">utc</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:local</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:year</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">year</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:month</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">month</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:day</span>]   <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">day</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:hour</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">hour</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:min</span>]   <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">min</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:sec</span>]   <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sec</span>,
          <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:usec</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">usec</span>
        )
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="since-method" class="method-detail method-alias">
        <a name="M000048"></a>

        <div class="method-heading">
        
          <span class="method-name">since</span><span
            class="method-args">(number, units=:seconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000011">hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="since-method" class="method-detail method-alias">
        <a name="M000014"></a>

        <div class="method-heading">
        
          <span class="method-name">since</span><span
            class="method-args">(number, units=:seconds)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000011">hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="start-of-day-method" class="method-detail method-alias">
        <a name="M000085"></a>

        <div class="method-heading">
        
          <span class="method-name">start_of_day</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000080">beginning_of_day</a>
</p>
          

          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000093">to_start_of_day</a>
        </div>
        
      </div>

    
      <div id="start-of-day-method" class="method-detail ">
        <a name="M000092"></a>

        <div class="method-heading">
        
          <span class="method-name">start_of_day</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new time at start of day
</p>
          

          
          <div class="method-source-code"
            id="start-of-day-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 397</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_of_day</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">mktime</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="to-end-of-day-method" class="method-detail method-alias">
        <a name="M000095"></a>

        <div class="method-heading">
        
          <span class="method-name">to_end_of_day</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000094">end_of_day</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="to-start-of-day-method" class="method-detail method-alias">
        <a name="M000093"></a>

        <div class="method-heading">
        
          <span class="method-name">to_start_of_day</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000085">start_of_day</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="tomorrow-method" class="method-detail ">
        <a name="M000091"></a>

        <div class="method-heading">
        
          <span class="method-name">tomorrow</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Convenience method which returns a new <a href="Time.html">Time</a>
representing the time 1 day since the instance time
</p>
          

          
          <div class="method-source-code"
            id="tomorrow-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 392</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tomorrow</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">since</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="weeks-ago-method" class="method-detail ">
        <a name="M000034"></a>

        <div class="method-heading">
        
          <span class="method-name">weeks_ago</span><span
            class="method-args">(weeks)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of weeks ago.
</p>
          

          
          <div class="method-source-code"
            id="weeks-ago-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 219</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">weeks_ago</span>(<span class="ruby-identifier">weeks</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">weeks</span> <span class="ruby-operator">*</span> <span class="ruby-value">604800</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="weeks-hence-method" class="method-detail ">
        <a name="M000043"></a>

        <div class="method-heading">
        
          <span class="method-name">weeks_hence</span><span
            class="method-args">(weeks)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of weeks hence.
</p>
          

          
          <div class="method-source-code"
            id="weeks-hence-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 278</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">weeks_hence</span>(<span class="ruby-identifier">weeks</span>)
        <span class="ruby-keyword kw">self</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">weeks</span> <span class="ruby-operator">*</span> <span class="ruby-value">604800</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000053">weeks_since</a>
        </div>
        
      </div>

    
      <div id="weeks-since-method" class="method-detail method-alias">
        <a name="M000053"></a>

        <div class="method-heading">
        
          <span class="method-name">weeks_since</span><span
            class="method-args">(weeks)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000043">weeks_hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="years-ago-method" class="method-detail ">
        <a name="M000038"></a>

        <div class="method-heading">
        
          <span class="method-name">years_ago</span><span
            class="method-args">(years)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of years ago.
</p>
          

          
          <div class="method-source-code"
            id="years-ago-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 244</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">years_ago</span>(<span class="ruby-identifier">years</span>)
        <span class="ruby-identifier">set</span>(<span class="ruby-identifier">:year=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">year</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">years</span>))
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="years-hence-method" class="method-detail ">
        <a name="M000047"></a>

        <div class="method-heading">
        
          <span class="method-name">years_hence</span><span
            class="method-args">(years)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a new <a href="Time.html">Time</a> representing the time a number
of years hence.
</p>
          

          
          <div class="method-source-code"
            id="years-hence-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 301</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">years_hence</span>(<span class="ruby-identifier">years</span>)
        <span class="ruby-identifier">set</span>(<span class="ruby-identifier">:year=</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">years</span>))
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Time.html#M000055">years_since</a>
        </div>
        
      </div>

    
      <div id="years-since-method" class="method-detail method-alias">
        <a name="M000055"></a>

        <div class="method-heading">
        
          <span class="method-name">years_since</span><span
            class="method-args">(years)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Time.html#M000047">years_hence</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="yesterday-method" class="method-detail ">
        <a name="M000090"></a>

        <div class="method-heading">
        
          <span class="method-name">yesterday</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Convenience method which returns a new <a href="Time.html">Time</a>
representing the time 1 day ago
</p>
          

          
          <div class="method-source-code"
            id="yesterday-source">
<pre>
<span class="ruby-comment cmt"># File lib/richunits/times.rb, line 386</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">yesterday</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-value">1</span>.<span class="ruby-identifier">day</span>)
      <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
    </div>
  

  </div>


  <div id="rdoc-debugging-section-dump" class="debugging-section">
  
    <p>Disabled; run with --debug to generate this.</p>
  
  </div>

</main>
</body>
</html>

